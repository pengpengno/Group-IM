import com.github.im.group.db.entities.ConversationStatus;
import kotlinx.datetime.LocalDateTime;

CREATE TABLE Conversation (
  id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
  conversationId INTEGER NOT NULL UNIQUE,          -- 会话Id (添加 UNIQUE 约束)
  groupName TEXT,
  description TEXT,                 -- 描述
  createdBy INTEGER NOT NULL,       -- 对应 User.userId
  createdAt INTEGER AS LocalDateTime DEFAULT CURRENT_TIMESTAMP,
  status TEXT AS ConversationStatus NOT NULL               -- 映射 ConversationStatus 枚举
);

selectAllConversations:
SELECT * FROM Conversation;

selectConversationById:
SELECT * FROM Conversation
WHERE conversationId = ?
LIMIT 1;

insertConversation:
INSERT OR REPLACE INTO Conversation(
   conversationId ,groupName, description, createdBy, createdAt, status
) VALUES ( ?, ?, ?, ?, ?, ?);

updateConversationStatus:
UPDATE Conversation
SET status = ?
WHERE conversationId = ?;

deleteConversation:
DELETE FROM Conversation WHERE conversationId = ?;
